<!--
Source - https://stackoverflow.com/a
Posted by Chanrithisak Phok, modified by community. See post 'Timeline' for change history
Retrieved 2025-11-22, License - CC BY-SA 4.0
-->

<!doctype html>



<head><title>Home Page</title> 
    <meta charset=utf-8> 
    <!-- <link rel="stylesheet" href="mystyle.css"> -->
    <style type="text/css">
    body {
        font-size: 2em;
        padding-left: 5em;
        padding-right: 5em;
        text-align: center;
        font-family: Arial, Helvetica, sans-serif;
        color: rgb(79, 6, 79);
        background-color: #d9be67 
    }
    ul.navbar {
        font-size: 32px;
        color: rgb(79, 6, 79);
        position: absolute;
        top: 1em;
        right: 1em; 
        width: 5em; 
    }
    .button {
        background-color: #04AA6D;
        border-width: 2px;
        border-color: white;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 12px;
    }
    </style>
</head>

<!-- body start -->
    <body>

        <!-- Site navigation menu -->
        <ul class="navbar">
            <a href="settings" style="text-decoration:none;">âš™</a>
            <!-- <a href="links">ðŸ”—LinksðŸ”—</a> -->
        </ul>

        <h1>Storyteller</h1>

        <b>
            Hello! <br> Would you like me to tell you a story? <br>
        </b>

        
        <button id="record-button" class="button">Start Recording</button>
        <script>
            function toggleRecording() {
                var button = document.getElementById("record-button");
                var newState = button.innerText === "Start Recording" ? "Stop Recording" : "Start Recording";

                var xhr = new XMLHttpRequest();
                xhr.open("GET", "/toggle_recording", true);
                xhr.send();

                if(button.innerText === "Stop Recording") {
                    window.location.href = "/generating"
                }

                button.innerText = newState;
                button.style.backgroundColor = newState === "Stop Recording" ? "red" : "#04AA6D";
                button.style.color = newState === "Stop Recording" ? "white" : "";

            }

            // âœ… Add click event listeners
            document.getElementById("record-button").addEventListener("click", toggleRecording);
        </script>

        </body>
        
    </body>